<mat-toolbar
  color="primary"
  class="doc-toolbar"
  [style.background-color]="user()?.branding?.bannerBackgroundColor"
>
  <!-- Brand -->
  <div class="brand-area">
    <img
      [src]="configData?.mainLogo 
        ? 'data:image/png;base64,' + configData?.mainLogo 
        : 'assets/tri-color.png'"
      alt="Logo"
      class="brand-logo"
    />
    <span
      class="brand-name"
      [style.color]="user()?.branding?.bannerTextColor"
    >
      {{ user()?.branding?.platformName }}
    </span>
  </div>

  <div class="spacer"></div>

  <!-- Save for Later -->
  <button
    mat-stroked-button
    class="save-later-btn"
    (click)="saveForLater()"
    matTooltip="Save your progress and continue later.
You can safely leave and resume this notarization session later."
    matTooltipPosition="below"
  >
    <mat-icon>bookmark</mat-icon>
    Save for later
  </button>

  <!-- Profile -->
  <div class="profile-area" *ngIf="user(); else guest">
    <button
      mat-icon-button
      [matMenuTriggerFor]="menu"
      class="avatar-button"
      aria-label="User menu"
    >
      <span class="avatar-circle">{{ initials }}</span>
    </button>

    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>
  </div>

  <ng-template #guest>
    <button mat-stroked-button color="accent" (click)="logout()">
      Login
    </button>
  </ng-template>
</mat-toolbar>
